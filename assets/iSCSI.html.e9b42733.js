import{_ as n,g as s}from"./app.7a79b439.js";const a={},p=s(`<h1 id="\u8BB0\u5F55\u914D\u7F6Eiscsi\u670D\u52A1" tabindex="-1"><a class="header-anchor" href="#\u8BB0\u5F55\u914D\u7F6Eiscsi\u670D\u52A1" aria-hidden="true">#</a> \u8BB0\u5F55\u914D\u7F6EiSCSI\u670D\u52A1</h1><h2 id="\u8981\u6C42" tabindex="-1"><a class="header-anchor" href="#\u8981\u6C42" aria-hidden="true">#</a> \u8981\u6C42:</h2><p>\u914D\u7F6E Linux-4 \u4E3A iSCSI \u76EE\u6807\u670D\u52A1\u5668</p><p>\u8BBE\u7F6E\u670D\u52A1\u7AEF iqn \u5206\u522B\u4E3A iqn.2021-04.com.bigone.iscsiweb2:server\u3001 iqn.2021-04.com.bigone.iscsidata2:server\uFF0C\u5BA2\u6237\u7AEF iqn \u4E3A iqn.2021-04.com.bigone.iscsi2:client\uFF1B</p><p>\u914D\u7F6E Linux-5 \u548C Linux-6 \u4E3A iSCSI \u5BA2\u6237\u7AEF\uFF0CLinux-5 \u6302\u8F7D\u540E\u7F00\u540D\u4E3A 1 \u7684 iSCSI \u5377\u3001Linux-6\u6302\u8F7D\u540E\u7F00\u540D\u4E3A2\u7684iSCSI\u5377\uFF0C\u5206\u522B\u5B9E\u73B0discovery chap\u548Csession chap \u53CC \u5411 \u8BA4 \u8BC1 \uFF0C \u670D \u52A1 \u5668 \u8BA4 \u8BC1 \u7528 \u6237 \u540D \u4E3A LinuxServerUser \uFF0C \u5BC6 \u7801 \u4E3A ServerPassword \uFF1B \u5BA2 \u6237 \u7AEF \u8BA4 \u8BC1 \u7528 \u6237 \u540D \u4E3A LinuxClientUser \uFF0C \u5BC6 \u7801 \u4E3A ClientPassword\u3002</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>/<span class="token operator">&gt;</span> /backstores/block create Web /dev/BrickPool/iSCSIForWeb 
Created block storage object Web using /dev/BrickPool/iSCSIForWeb.
/<span class="token operator">&gt;</span> /backstores/block create Data /dev/BrickPool/iSCSIForData 
Created block storage object Data using /dev/BrickPool/iSCSIForData.
/<span class="token operator">&gt;</span> 
/<span class="token operator">&gt;</span> /iscsi create iqn.2021-04.com.bigone.iscsiweb2:server
Created target iqn.2021-04.com.bigone.iscsiweb2:server.
Created TPG <span class="token number">1</span>.
Global pref <span class="token assign-left variable">auto_add_default_portal</span><span class="token operator">=</span>true
Created default portal listening on all IPs <span class="token punctuation">(</span><span class="token number">0.0</span>.0.0<span class="token punctuation">)</span>, port <span class="token number">3260</span>.
/<span class="token operator">&gt;</span> /iscsi create iqn.2021-04.com.bigone.iscsidata2:server
Created target iqn.2021-04.com.bigone.iscsidata2:server.
Created TPG <span class="token number">1</span>.
Global pref <span class="token assign-left variable">auto_add_default_portal</span><span class="token operator">=</span>true
Created default portal listening on all IPs <span class="token punctuation">(</span><span class="token number">0.0</span>.0.0<span class="token punctuation">)</span>, port <span class="token number">3260</span>.
/<span class="token operator">&gt;</span> 
/<span class="token operator">&gt;</span> /iscsi/iqn.2021-04.com.bigone.iscsidata2:server/tpg1/acls create iqn.2021-04.com.bigone.iscsi2:client
Created Node ACL <span class="token keyword">for</span> iqn.2021-04.com.bigone.iscsi2:client
/<span class="token operator">&gt;</span> /iscsi/iqn.2021-04.com.bigone.iscsiweb2:server/tpg1/acls create iqn.2021-04.com.bigone.iscsi2:client
Created Node ACL <span class="token keyword">for</span> iqn.2021-04.com.bigone.iscsi2:client
/<span class="token operator">&gt;</span> 
/<span class="token operator">&gt;</span> /iscsi/iqn.2021-04.com.bigone.iscsiweb2:server/tpg1/luns create /backstores/block/Web 
Created LUN <span class="token number">0</span>.
Created LUN <span class="token number">0</span>-<span class="token operator">&gt;</span><span class="token number">0</span> mapping <span class="token keyword">in</span> <span class="token function">node</span> ACL iqn.2021-04.com.bigone.iscsi2:client
/<span class="token operator">&gt;</span> /iscsi/iqn.2021-04.com.bigone.iscsiweb2:server/tpg1/portals/ delete <span class="token number">0.0</span>.0.0 <span class="token number">3260</span> 
Deleted network portal <span class="token number">0.0</span>.0.0:3260
/<span class="token operator">&gt;</span> /iscsi/iqn.2021-04.com.bigone.iscsidata2:server/tpg1/portals/ delete <span class="token number">0.0</span>.0.0 <span class="token number">3260</span> 
Deleted network portal <span class="token number">0.0</span>.0.0:3260
/<span class="token operator">&gt;</span> /iscsi/iqn.2021-04.com.bigone.iscsiweb2:server/tpg1/portals/ create <span class="token number">110.110</span>.111.104 <span class="token number">3260</span> 
Using default IP port <span class="token number">3260</span>
Created network portal <span class="token number">110.110</span>.111.104:3260.
/<span class="token operator">&gt;</span> /iscsi/iqn.2021-04.com.bigone.iscsidata2:server/tpg1/portals/ create <span class="token number">110.110</span>.111.104 <span class="token number">3260</span> 
Using default IP port <span class="token number">3260</span>
Created network portal <span class="token number">110.110</span>.111.104:3260.
/<span class="token operator">&gt;</span> /iscsi/iqn.2021-04.com.bigone.iscsidata2:server/tpg1/luns create /backstores/block/Data 
Created LUN <span class="token number">0</span>.
Created LUN <span class="token number">0</span>-<span class="token operator">&gt;</span><span class="token number">0</span> mapping <span class="token keyword">in</span> <span class="token function">node</span> ACL iqn.2021-04.com.bigone.iscsi2:client
/<span class="token operator">&gt;</span> /iscsi/ <span class="token builtin class-name">set</span> discovery_auth <span class="token assign-left variable">enable</span><span class="token operator">=</span><span class="token number">1</span> <span class="token assign-left variable">userid</span><span class="token operator">=</span>LinuxClientUser <span class="token assign-left variable">password</span><span class="token operator">=</span>ClientPassword <span class="token assign-left variable">mutual_userid</span><span class="token operator">=</span>LinuxServerUser <span class="token assign-left variable">mutual_password</span><span class="token operator">=</span>ServerPassword
Parameter userid is now <span class="token string">&#39;LinuxClientUser&#39;</span><span class="token builtin class-name">.</span>
Parameter password is now <span class="token string">&#39;ClientPassword&#39;</span><span class="token builtin class-name">.</span>
Parameter mutual_password is now <span class="token string">&#39;ServerPassword&#39;</span><span class="token builtin class-name">.</span>
Parameter mutual_userid is now <span class="token string">&#39;LinuxServerUser&#39;</span><span class="token builtin class-name">.</span>
Parameter <span class="token builtin class-name">enable</span> is now <span class="token string">&#39;True&#39;</span><span class="token builtin class-name">.</span>
/<span class="token operator">&gt;</span> 
/<span class="token operator">&gt;</span> 
/<span class="token operator">&gt;</span> 
/<span class="token operator">&gt;</span> saveconfig 
Last <span class="token number">10</span> configs saved <span class="token keyword">in</span> /etc/target/backup.
Configuration saved to /etc/target/saveconfig.json
/<span class="token operator">&gt;</span> <span class="token function">ls</span>
o- / <span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span> <span class="token punctuation">[</span><span class="token punctuation">..</span>.<span class="token punctuation">]</span>
  o- backstores <span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>. <span class="token punctuation">[</span><span class="token punctuation">..</span>.<span class="token punctuation">]</span>
  <span class="token operator">|</span> o- block <span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>. <span class="token punctuation">[</span>Storage Objects: <span class="token number">2</span><span class="token punctuation">]</span>
  <span class="token operator">|</span> <span class="token operator">|</span> o- Data <span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>. <span class="token punctuation">[</span>/dev/BrickPool/iSCSIForData <span class="token punctuation">(</span><span class="token number">5</span>.0GiB<span class="token punctuation">)</span> write-thru activated<span class="token punctuation">]</span>
  <span class="token operator">|</span> <span class="token operator">|</span> <span class="token operator">|</span> o- alua <span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span> <span class="token punctuation">[</span>ALUA Groups: <span class="token number">1</span><span class="token punctuation">]</span>
  <span class="token operator">|</span> <span class="token operator">|</span> <span class="token operator">|</span>   o- default_tg_pt_gp <span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span> <span class="token punctuation">[</span>ALUA state: Active/optimized<span class="token punctuation">]</span>
  <span class="token operator">|</span> <span class="token operator">|</span> o- Web <span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>. <span class="token punctuation">[</span>/dev/BrickPool/iSCSIForWeb <span class="token punctuation">(</span><span class="token number">5</span>.0GiB<span class="token punctuation">)</span> write-thru activated<span class="token punctuation">]</span>
  <span class="token operator">|</span> <span class="token operator">|</span>   o- alua <span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span> <span class="token punctuation">[</span>ALUA Groups: <span class="token number">1</span><span class="token punctuation">]</span>
  <span class="token operator">|</span> <span class="token operator">|</span>     o- default_tg_pt_gp <span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span> <span class="token punctuation">[</span>ALUA state: Active/optimized<span class="token punctuation">]</span>
  <span class="token operator">|</span> o- fileio <span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span> <span class="token punctuation">[</span>Storage Objects: <span class="token number">0</span><span class="token punctuation">]</span>
  <span class="token operator">|</span> o- pscsi <span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>. <span class="token punctuation">[</span>Storage Objects: <span class="token number">0</span><span class="token punctuation">]</span>
  <span class="token operator">|</span> o- ramdisk <span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>. <span class="token punctuation">[</span>Storage Objects: <span class="token number">0</span><span class="token punctuation">]</span>
  o- iscsi <span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>. <span class="token punctuation">[</span>mutual disc auth, Targets: <span class="token number">2</span><span class="token punctuation">]</span>
  <span class="token operator">|</span> o- iqn.2021-04.com.bigone.iscsidata2:server <span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>. <span class="token punctuation">[</span>TPGs: <span class="token number">1</span><span class="token punctuation">]</span>
  <span class="token operator">|</span> <span class="token operator">|</span> o- tpg1 <span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span> <span class="token punctuation">[</span>no-gen-acls, no-auth<span class="token punctuation">]</span>
  <span class="token operator">|</span> <span class="token operator">|</span>   o- acls <span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>. <span class="token punctuation">[</span>ACLs: <span class="token number">1</span><span class="token punctuation">]</span>
  <span class="token operator">|</span> <span class="token operator">|</span>   <span class="token operator">|</span> o- iqn.2021-04.com.bigone.iscsi2:client <span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span> <span class="token punctuation">[</span>Mapped LUNs: <span class="token number">1</span><span class="token punctuation">]</span>
  <span class="token operator">|</span> <span class="token operator">|</span>   <span class="token operator">|</span>   o- mapped_lun0 <span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>. <span class="token punctuation">[</span>lun0 block/Data <span class="token punctuation">(</span>rw<span class="token punctuation">)</span><span class="token punctuation">]</span>
  <span class="token operator">|</span> <span class="token operator">|</span>   o- luns <span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>. <span class="token punctuation">[</span>LUNs: <span class="token number">1</span><span class="token punctuation">]</span>
  <span class="token operator">|</span> <span class="token operator">|</span>   <span class="token operator">|</span> o- lun0 <span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>. <span class="token punctuation">[</span>block/Data <span class="token punctuation">(</span>/dev/BrickPool/iSCSIForData<span class="token punctuation">)</span> <span class="token punctuation">(</span>default_tg_pt_gp<span class="token punctuation">)</span><span class="token punctuation">]</span>
  <span class="token operator">|</span> <span class="token operator">|</span>   o- portals <span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>. <span class="token punctuation">[</span>Portals: <span class="token number">1</span><span class="token punctuation">]</span>
  <span class="token operator">|</span> <span class="token operator">|</span>     o- <span class="token number">110.110</span>.111.104:3260 <span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span> <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>
  <span class="token operator">|</span> o- iqn.2021-04.com.bigone.iscsiweb2:server <span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span> <span class="token punctuation">[</span>TPGs: <span class="token number">1</span><span class="token punctuation">]</span>
  <span class="token operator">|</span>   o- tpg1 <span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span> <span class="token punctuation">[</span>no-gen-acls, no-auth<span class="token punctuation">]</span>
  <span class="token operator">|</span>     o- acls <span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>. <span class="token punctuation">[</span>ACLs: <span class="token number">1</span><span class="token punctuation">]</span>
  <span class="token operator">|</span>     <span class="token operator">|</span> o- iqn.2021-04.com.bigone.iscsi2:client <span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span> <span class="token punctuation">[</span>Mapped LUNs: <span class="token number">1</span><span class="token punctuation">]</span>
  <span class="token operator">|</span>     <span class="token operator">|</span>   o- mapped_lun0 <span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span> <span class="token punctuation">[</span>lun0 block/Web <span class="token punctuation">(</span>rw<span class="token punctuation">)</span><span class="token punctuation">]</span>
  <span class="token operator">|</span>     o- luns <span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>. <span class="token punctuation">[</span>LUNs: <span class="token number">1</span><span class="token punctuation">]</span>
  <span class="token operator">|</span>     <span class="token operator">|</span> o- lun0 <span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>. <span class="token punctuation">[</span>block/Web <span class="token punctuation">(</span>/dev/BrickPool/iSCSIForWeb<span class="token punctuation">)</span> <span class="token punctuation">(</span>default_tg_pt_gp<span class="token punctuation">)</span><span class="token punctuation">]</span>
  <span class="token operator">|</span>     o- portals <span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>. <span class="token punctuation">[</span>Portals: <span class="token number">1</span><span class="token punctuation">]</span>
  <span class="token operator">|</span>       o- <span class="token number">110.110</span>.111.104:3260 <span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span> <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>
  o- loopback <span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span> <span class="token punctuation">[</span>Targets: <span class="token number">0</span><span class="token punctuation">]</span>
/<span class="token operator">&gt;</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br></div></div><p><strong>!Client\u8FDE\u63A5\u5982\u679C\u51FA\u73B0\u9519\u8BEF\uFF0C\u8BF7\u91CD\u65B0\u914D\u7F6E\u8BA4\u8BC1</strong></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>/iscsi<span class="token operator">&gt;</span> <span class="token builtin class-name">set</span> discovery_auth <span class="token assign-left variable">enable</span><span class="token operator">=</span><span class="token number">1</span> <span class="token assign-left variable">userid</span><span class="token operator">=</span>LinuxClientUser <span class="token assign-left variable">password</span><span class="token operator">=</span>ClientPassword <span class="token assign-left variable">mutual_userid</span><span class="token operator">=</span>LinuxServerUser
Parameter userid is now <span class="token string">&#39;LinuxClientUser&#39;</span><span class="token builtin class-name">.</span>
Parameter <span class="token builtin class-name">enable</span> is now <span class="token string">&#39;True&#39;</span><span class="token builtin class-name">.</span>
Parameter password is now <span class="token string">&#39;ClientPassword&#39;</span><span class="token builtin class-name">.</span>
Parameter mutual_userid is now <span class="token string">&#39;LinuxServerUser&#39;</span><span class="token builtin class-name">.</span>
/iscsi<span class="token operator">&gt;</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>\u5E76\u4E14Client\u53D1\u8D77\u7AEF\u53EA\u586B\u5199discovery\u8BA4\u8BC1;\u6210\u529F\u540E\u5728\u914D\u7F6Esession\u8BA4\u8BC1\uFF01</strong></p><p>\u7ED3\u679C</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@lweb2 ~<span class="token punctuation">]</span><span class="token comment"># lsblk</span>
NAME            MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT
sda               <span class="token number">8</span>:0    <span class="token number">0</span>    5G  <span class="token number">0</span> disk 
sdb               <span class="token number">8</span>:16   <span class="token number">0</span>    5G  <span class="token number">0</span> disk 
vda             <span class="token number">252</span>:0    <span class="token number">0</span>   40G  <span class="token number">0</span> disk 
\u251C\u2500vda1          <span class="token number">252</span>:1    <span class="token number">0</span>    1G  <span class="token number">0</span> part /boot
\u2514\u2500vda2          <span class="token number">252</span>:2    <span class="token number">0</span>   19G  <span class="token number">0</span> part 
  \u251C\u2500centos-root <span class="token number">253</span>:0    <span class="token number">0</span>   17G  <span class="token number">0</span> lvm  /
  \u2514\u2500centos-swap <span class="token number">253</span>:1    <span class="token number">0</span>    2G  <span class="token number">0</span> lvm  <span class="token punctuation">[</span>SWAP<span class="token punctuation">]</span>
loop0             <span class="token number">7</span>:0    <span class="token number">0</span>  <span class="token number">4</span>.2G  <span class="token number">0</span> loop /mnt/cdrom
<span class="token punctuation">[</span>root@lweb2 ~<span class="token punctuation">]</span><span class="token comment"># </span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div>`,11);function t(o,c){return p}var e=n(a,[["render",t]]);export{e as default};
